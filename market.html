<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/market.css">
    <link rel="stylesheet" href="./css/constants.css">
    <link rel="shortcut icon" href="./img/logo.png" type="image/x-icon">


    <meta property="og:title" content="Projexts" />
    <!-- <meta property="og:description" content="Browse. Build. Produce." /> -->
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://i.imgur.com/2cew8H4.png" />
    <meta property="og:url" content="https://projexts.xyz" />
    <meta property="og:site_name" content="Market" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@SolanaPixelBots" />
    <meta name="twitter:title" content="Projexts" />
    <!-- <meta name="twitter:description" content="Browse. Build. Produce." /> -->
    <meta name="twitter:image" content="https://i.imgur.com/2cew8H4.png" />
    <meta content="#0b0b0b" data-react-helmet="true" name="theme-color" />

    <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>

    <title> Project Marketplace </title>
</head>

<body>
    <nav>
        <a href="./index.html">
            <div class="link"><i class='bx bx-home'></i></div>
        </a>
        <a href="./market.html">
            <div class="link active"><i class='bx bx-store'></i></div>
        </a>
        <a href="https://twitter.com/SolanaPixelBots">
            <div class="link"><i class='bx bxl-twitter'></i></div>
        </a>
        <a href="https://discord.com/invite/uC9YmhTVHY">
            <div class="link"><i class='bx bxl-discord-alt'></i></div>
        </a>
    </nav>

    <div class="menu-open"><a onclick="openMenu()"><i class='bx bx-menu'></i></a></div>

    <menu class="menu">
        <a onclick="closeMenu()" class="menu-close"><i class='bx bx-x'></i></a>
        <div class="inner">
            <div class="menu-link"><a href="./index.html"><i class='bx bx-home'></i></a></div>
            <div class="menu-link menu-active"><a href="./market.html"><i class='bx bx-store'></i></a>
            </div>
            <div class="menu-link"><a href="https://twitter.com/SolanaPixelBots"><i class='bx bxl-twitter'></i></a>
            </div>
            <div class="menu-link"><a href="https://discord.com/invite/uC9YmhTVHY"><i
                        class='bx bxl-discord-alt'></i></a></div>
        </div>
    </menu>
    <main class="main-market">
        <section class="entry-box">
            <div class="entry-title">
                <h1>Projexts <a class="gradient"> Market<i class='bx bx-store-alt'></i></a></h1>
            </div>
            <div class="entry-desc">
                <h1> Browse through projects. Click to inspect the project. View the projects profile. <br>
                    From there you can contact them or open a ticket in our server to start the process.<br><br>
                    Additionally we have utilities listed for personal and community use.</h1>
            </div>
        </section>
        <section class="market-box">
            <div class="market-title">
                <h1> Projects <a class="view-more" href="./browse.html?project">More →</a>
                </h1>
            </div>
            <market id="project" class="display-box"></market>
        </section>
        <section class="market-box">
            <div class="market-title">
                <h1> Utilities <a class="view-more" href="./browse.html?utility">More →</a>
                </h1>
            </div>
            <market id="utility" class="display-box"></market>
        </section>
        <section class="market-box">
            <div class="market-title">
                <h1> Artists <a class="view-more" href="./browse.html?artist">More →</a></h1>
            </div>
            <market id="artist" class="display-box"></market>
        </section>
    </main>
    <footer>
        <div class="gradient">Projexts © 2022</div>
        <div class="gradient"><a href="https://twitter.com/SolanaPixelBots" target="_blank"><i class='bx bxl-twitter'></i></a></div>
        <div class="gradient"><a href="https://discord.gg/pixelbots" target="_blank"><i class='bx bxl-discord-alt'></i></a></div>
    </footer>
</body>

</html>
<script>
    function loadPage(type) {
        var xhttp = new XMLHttpRequest();
        xhttp.onload = function (data) {
            var response = JSON.parse(this.responseText);
            var collect = response.reverse();
            var i = 0;
            for (i < collect.length; i < 4; i++) {
                buildDOM(collect[i], type)
            }
        }
        xhttp.open("GET", "https://api.projexts.xyz/collection/" + type, true);
        xhttp.send();
    }

    function buildDOM(collect, type) {
        var market = document.getElementById(type);
        let div1 = document.createElement("a");
        let img = document.createElement("img");
        let div2 = document.createElement("div");
        let div3 = document.createElement("div");
        let div4 = document.createElement("div");
        let chain = document.createElement("p");
        chain.classList.add("chain-symbol");
        chain.innerHTML = "◎";
        
        div1.classList.add("project-box");
        div1.href = "./project.html?" + collect["symbol"];
        img.src = collect['image'];
        div2.classList.add("lower-box");
        div3.classList.add("name");
        div4.classList.add("desc");

        div3.innerHTML = collect["name"];
        div4.innerHTML = collect["service"];
        // div3.appendChild(chain);
        div1.appendChild(img)
        div2.appendChild(div3)
        div2.appendChild(div4)
        div1.appendChild(div2)
        market.appendChild(div1)
    }
    function startLoad() {
        var types = ["project", "utility", "artist"]
        for (var i = 0; i < types.length; i++) {
            console.log(types[i])
            loadPage(types[i]);
        }
    }
    startLoad()
</script>
<script>

    function closeMenu() {document.getElementsByClassName("menu")[0].style.visibility = "hidden";}
    function openMenu() {document.getElementsByClassName("menu")[0].style.visibility = "visible";}



</script>